<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyGANTT</title>

    <!-- Include Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css">
    <link href="./defaultStyle.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="./EasyGANTT.js" ></script>
    <script type="text/javascript" src="./defaultData.js" ></script>
    <script type="text/javascript" src="./algorithm2.js"></script>
    <link rel="icon" href="./ICON_EASYGANTT.png " type="image/png">
</head>
<body  onload="version()">
    <div class="row svg-justify">
        <img src="./ICONA.svg">
    </div>
    <div class="row"></div>
        <h1 id="version">EasyGANTT</h1>
    </div>


    <div class="container-fluid">
        <div class="container-content fit auto">
        <div class="row">
            <div >
                <label class="btn btn-light" for="uploadFile" style="margin-bottom: 0;">
                    <i class="bi bi-upload"></i>
                    Upload data</label>
                <button class="btn btn-light" onclick="downloadJSON()">
                    <i class="bi bi-download"></i>
                    Download data</button>
                <button class="btn btn-light" onclick="info()">
                    <i class="bi bi-info-square fa-sm " ></i> About EasyGANTT</button>
            </div>
        </div>
        <div class="row  justify-content-center  ">
            <div class="col bg-light text-black">
                <h2>Projects</h2>
                    <div class="row">
                            <button class="btn btn-light " onclick="newProject()"><i class="bi bi-plus-square"></i> New</button>
                            <button class="btn btn-light " onclick="cloneProject()"><i class="bi bi-files"></i> Duplicate</button>
                            <button class="btn btn-light " onclick="upProject()"><i class="bi bi-arrow-up-square"></i> Up</button>
                            <button class="btn btn-light " onclick="downProject()"><i class="bi bi-arrow-down-square"></i> Down</button>
                            <button class="btn btn-light " onclick="deleteProject()"><i class="bi bi-trash3"></i> Delete</button>
                    </div>
                    <div class="row table-container text-star">
                            <table class="table" id="projectsTable">
                                <thead>
                                    <tr>
                                        <th>Description</th>
                                        <th>Delivery</th>
                                        <th>Penalty</th>
                                    </tr>
                                </thead>
                                <tbody onload="populateProjectsTable()">

                                </tbody>
                            </table>
                        
                    </div>
                
            </div>
            <div class="col m-0 pl-6 pr-6 bg-primary text-white "  >
                <h2>Phases</h2>
               
                    <div class="row ">
                            <button class="btn btn-primary" onclick="newPhase()"><i class="bi bi-plus-square"></i> New</button>
                            <button class="btn btn-primary" onclick="upPhase()"><i class="bi bi-arrow-up-square"></i> Up</button>
                            <button class="btn btn-primary" onclick="downPhase()"><i class="bi bi-arrow-down-square"></i> Down</button>
                            <button class="btn btn-primary" onclick="deletePhase()"><i class="bi bi-trash3"></i> Delete</button>
                    </div>
                    <div class="row table-container">
                        <table class="table margin12 text-star table-borderless" id="phasesTable">
                            <thead>
                                <tr>
                                    <th>Description</th>
                                    <th>Start</th>
                                    <th>Duration</th>
                                </tr>
                            </thead>
                            <tbody>
                                
                            </tbody>
                        </table>
                    
                </div>
            </div>
              <div class="col bg-warning text-dark">
                <h2>Resources</h2>
                    <div class="row ">
                            <button class="btn btn-warning" onclick="newResorce()"><i class="bi bi-plus-square"></i> New</button>
                            <button class="btn btn-warning" onclick="deleteResource()"><i class="bi bi-trash3"></i> Delete</button>
                    </div>
                    <div class="row  table-container text-star">
                        <table class="table margin12 " id="resourcesTable">
                            <thead>
                                <tr>
                                    <th>Resource</th>
                                    <th>Employed %</th>
                                </tr>
                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    
                </div>
            </div>
        </div>

 
</div>



    <div class="text-center">
        <h3>GANTT CHART</h3>
    </div>
</div>
<div class="col ">
    <div class="container-content">
        <div class="row fit mb-6"> 
            <div class="col ">     
        <button class="btn btn-info " onclick="updateChart(new GANTT(data).getGantt())">
        <i class="bi bi-brush"></i>
        Redraw
        </button>
        </div>
        <div class="col "> 
        <button class="btn btn-warning no-wrap" onclick="recalculateStartingToday()">
            <i class="bi bi-calculator"></i>
            recalculate starting today
            </button>
        </div>
        <div class="col "> 
            <button class="btn btn-danger no-wrap" onclick="cutProjectsToday()">
                <i class="bi bi-scissors"></i>
                cut projects today
                </button>
            </div>
        </div>
    <div class="row">
        <div class="col-md-auto pr-0">
            <table class="table spreadsheet-table" id="graphic1">
                <thead>
                    <!-- Dynamic Content -->
                </thead>
                <tbody>
                    <!-- Dynamic Content -->
                </tbody>
            </table>
        </div>
        <div class="col pl-0 slider-container">
            <table class="table spreadsheet-table slider-container" id="graphic2">
                <thead>
                    <!-- Dynamic Content -->
                </thead>
                <tbody>
                    <!-- Dynamic Content -->
                </tbody>
            </table>
        </div>
    </div>
    </div>
</div>
<div class="text-center">
    <h3>DELAY TABLE</h3>
</div>
    <div class="container-content fit auto">
        <div class="row  ">
            <div class="col-3 pm ">
                <table class="table no-wrap" id="delay">
                    <thead>
                        <tr>
                            <th>Project</th>
                            <th>Delay</th>
                            <th>Penalty</th>
                        </tr>
                    </thead>
                    <tbody >
                        <!-- Dynamic Content -->
                    </tbody>
                </table>
            </div>
        </div>       
    </div>

    </div>
    <div id="cookieBanner">
        <span id="cookieMessage"></span>
        <button onclick="hideBanner()">OK</button>
    </div>
    <input type="file" accept="application/json" hidden id="uploadFile" onchange="handleFileUpload(event)"></input>
    <script>
        populateProjectsTable();
        updateChart(new GANTT(data).getGantt())
    </script>
    <script>
        function hideBanner() {
            document.getElementById('cookieBanner').style.display = 'none'
        }
    
        // Determina la lingua dell'utente
        const userLang = navigator.language || navigator.userLanguage
    
        // Messaggi in diverse lingue
        const messages = {
            'it': 'Questo sito non utilizza cookie né raccoglie dati personali per alcun motivo.',
            'en': 'This site does not use cookies nor collect personal data for any reason.',
            'fr': 'Ce site n\'utilise pas de cookies et ne collecte aucune donnée personnelle pour quelque raison que ce soit.',
            'de': 'Diese Website verwendet keine Cookies und sammelt keine persönlichen Daten aus irgendeinem Grund.',
            'es': 'Este sitio no utiliza cookies ni recopila datos personales por ningún motivo.',
        };
    
        // Imposta il messaggio nella lingua dell'utente, se disponibile
        const message = messages[userLang.slice(0, 2)] || messages['en'] // Default to English
        document.getElementById('cookieMessage').textContent = message
    </script>
</body>